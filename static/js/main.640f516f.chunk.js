(this["webpackJsonpReact Weather App"]=this["webpackJsonpReact Weather App"]||[]).push([[0],{14:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);a(14);var c=a(2),r=a.n(c),n=a(4),s=a.n(n),o=a(5),i=a(3),l="SET_CURRENT",d="SET_UV",u="SET_FORECAST",j="CLEAR_DATA",h="SET_ERROR",b="CLEAR_ERROR",p="LOAD_STORAGE",x="SET_STORAGE",f="CLEAR_STORAGE",O=a(0),m=function(e){var t=e.type,a=e.id,c=e.role,r=e.icon,n=e.clearSavedCities;return Object(O.jsx)("button",{form:"search-form",type:t,id:a,className:"btn btn-".concat(c," btn-block"),onClick:n,children:Object(O.jsx)("i",{className:r})})},v=a(11),y=a.n(v),w=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))},g=function(e){return e.split(" ").map((function(e){return w(e)})).join(" ")},N=function(e){var t=1e3*e;return y()(t).format("ddd, MMM DD")},T=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=imperial&appid=").concat("c83c5006fffeb4aa44a34ffd6a27f135"))},S=function(e,t){return fetch("https://api.openweathermap.org/data/2.5/uvi?appid=".concat("c83c5006fffeb4aa44a34ffd6a27f135","&lat=").concat(e,"&lon=").concat(t))},k=a(1),E=a(13),C=a(7),R=function(e,t){switch(t.type){case l:return Object(k.a)(Object(k.a)({},e),{},{currentWeather:t.payload});case d:return Object(k.a)(Object(k.a)({},e),{},{uvIndex:t.payload});case u:return Object(k.a)(Object(k.a)({},e),{},{forecast:t.payload});case j:return Object(k.a)(Object(k.a)({},e),{},{currentWeather:null,uvIndex:null,forecast:null});case p:var a=JSON.parse(localStorage.getItem("saved_cities"))||[];return Object(k.a)(Object(k.a)({},e),{},{savedSearches:Object(C.a)(a)});case x:return c=e.savedSearches,r=t.payload,(JSON.parse(localStorage.getItem("saved_cities"))||[]).length?localStorage.setItem("saved_cities",JSON.stringify([r].concat(Object(C.a)(c)))):localStorage.setItem("saved_cities",JSON.stringify([r])),Object(k.a)(Object(k.a)({},e),{},{savedSearches:[t.payload].concat(Object(C.a)(e.savedSearches))});case f:return localStorage.removeItem("saved_cities"),Object(k.a)(Object(k.a)({},e),{},{savedSearches:[]});case h:return Object(k.a)(Object(k.a)({},e),{},{error:t.payload});case b:return Object(k.a)(Object(k.a)({},e),{},{error:null});default:return e}var c,r};var _=["value"],A=Object(c.createContext)(),W=A.Provider,M=function(e){e.value;var t,a=Object(E.a)(e,_),r=(t={currentWeather:null,uvIndex:null,forecast:null,savedSearches:[],error:null},Object(c.useReducer)(R,t)),n=Object(i.a)(r,2),s=n[0],o=n[1];return Object(O.jsx)(W,Object(k.a)({value:[s,o]},a))},I=function(){return Object(c.useContext)(A)},F=function(){var e=I(),t=Object(i.a)(e,2),a=t[0],r=t[1],n=a.savedSearches,d=Object(c.useState)(""),u=Object(i.a)(d,2),v=u[0],y=u[1],g=function(e){r({type:h,payload:e}),setTimeout((function(){r({type:b})}),3e3)},N=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r({type:j}),e.prev=2,""!==v){e.next=6;break}throw g("Please enter a city to search for."),Error("Please enter a city to search for.");case 6:return e.next=8,T(v.trim().toLowerCase());case 8:if((a=e.sent).ok){e.next=12;break}throw g("There was an error: ".concat(a.statusText," (").concat(a.status,")")),Error("There was an error: ".concat(a.statusText," (").concat(a.status,")"));case 12:return r({type:x,payload:v}),e.next=15,a.json();case 15:c=e.sent,r({type:l,payload:c}),y(""),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:y("");case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,c,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.textContent,r({type:j}),e.prev=2,""!==a){e.next=6;break}throw g("Please enter a city to search for."),Error("Please enter a city to search for.");case 6:return e.next=8,T(a.trim().toLowerCase());case 8:if((c=e.sent).ok){e.next=12;break}throw g("There was an error: ".concat(c.statusText," (").concat(c.status,")")),Error("There was an error: ".concat(c.statusText," (").concat(c.status,")"));case 12:return e.next=14,c.json();case 14:n=e.sent,r({type:l,payload:n}),y(""),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(e.t0);case 22:y("");case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){r({type:p})}),[]);return Object(O.jsxs)("section",{id:"search-wrapper",className:"search-wrap-style card col-lg-3",children:[Object(O.jsxs)("form",{onSubmit:N,id:"search-form",className:"text-center text-wrap",children:[Object(O.jsx)("label",{htmlFor:"search-box",className:"search-label",children:"Search by City"}),Object(O.jsx)("input",{type:"text",id:"search-bar",name:"search-box",className:"form-control text-input",value:v,onChange:function(e){return y(e.target.value)}}),Object(O.jsx)(m,{type:"submit",id:"search-button",role:"primary",icon:"fas fa-search"}),Object(O.jsx)(m,{type:"reset",id:"dlt-btn",role:"danger",icon:"far fa-trash-alt",clearSavedCities:function(){r({type:f})}})]}),Object(O.jsx)("div",{id:"search-history",className:"card-body",children:n.length?n.map((function(e){return Object(O.jsx)("button",{className:"btn btn-info btn-block",onClick:S,children:w(e)},e)})):null})]})},L=function(e){var t=e.lat,a=e.lon,r=I(),n=Object(i.a)(r,2),l=n[0],u=n[1],j=l.uvIndex,p=function(){var e=Object(o.a)(s.a.mark((function e(){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t,a);case 3:if((c=e.sent).ok){e.next=7;break}throw n="There was an error: ".concat(c.statusText," (").concat(c.status,")"),u({type:h,payload:n}),setTimeout((function(){u({type:b})}),3e3),Error("There was an error: ".concat(c.statusText," (").concat(c.status,")"));case 7:return e.next=9,c.json();case 9:r=e.sent,u({type:d,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}var n}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){p()}),[l.currentWeather]);var x;return Object(O.jsx)(O.Fragment,{children:j&&Object(O.jsxs)("div",{id:"uv-value",className:"secondary-text uv-class",children:[Object(O.jsx)("h4",{children:"UV Index: "}),Object(O.jsx)("div",{id:"uv-index",className:"uv-result rounded ".concat((x=j.value,x>7?"bg-danger":x>2&&x<=7?"bg-warning":"bg-success")),children:j.value})]})})},D=function(){var e=I(),t=Object(i.a)(e,1)[0].currentWeather;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{id:"current-result",className:"current-style card-body border-secondary",children:t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"temp-div",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{className:"secondary-text",children:["Current Weather for"," ",Object(O.jsx)("span",{className:"font-weight-bold",children:t.name})]}),Object(O.jsx)("br",{}),Object(O.jsx)("h3",{className:"font-weight-bold secondary-text",children:N(t.dt)}),Object(O.jsx)("br",{}),Object(O.jsxs)("h3",{className:"secondary-text",children:["Temperature:"," ",Object(O.jsx)("span",{className:"font-weight-bold",children:"".concat(Math.round(t.main.temp),"\xb0F")})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("figure",{children:[Object(O.jsx)("img",{className:"icon",src:"http://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:"Current weather icon for ".concat(t.weather[0].description)}),Object(O.jsxs)("figcaption",{className:"secondary-text",children:["Conditions:"," ",g(t.weather[0].description)]})]})]}),Object(O.jsx)("br",{})]}),Object(O.jsxs)("div",{className:"detail-div",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{className:"secondary-text",children:["Low Temp:"," ",Object(O.jsx)("span",{className:"font-weight-bold",children:"".concat(Math.round(t.main.temp_min),"\xb0F")})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{className:"secondary-text",children:["High Temp:"," ",Object(O.jsx)("span",{className:"font-weight-bold",children:"".concat(Math.round(t.main.temp_max),"\xb0F")})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{className:"secondary-text",children:["Humidity:"," ",Object(O.jsx)("span",{className:"font-weight-bold",children:"".concat(t.main.humidity,"%")})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{className:"secondary-text",children:["Wind Speed:"," ",Object(O.jsx)("span",{className:"font-weight-bold",children:"".concat(Math.round(t.wind.speed)," MPH")})]})}),Object(O.jsx)("div",{children:Object(O.jsx)(L,{lat:t.coord.lat,lon:t.coord.lon})})]})]})})})},J=function(){var e,t=I(),a=Object(i.a)(t,2),r=a[0],n=a[1],l=r.forecast,d=null===r||void 0===r||null===(e=r.currentWeather)||void 0===e?void 0:e.coord,j=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=d.lat,s=d.lon,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(r,"&lon=").concat(s,"&appid=").concat("c83c5006fffeb4aa44a34ffd6a27f135","&units=imperial"));case 3:if((t=e.sent).ok){e.next=7;break}throw c="There was an error: ".concat(t.statusText," (").concat(t.status,")"),n({type:h,payload:c}),setTimeout((function(){n({type:b})}),3e3),Error("There was an error: ".concat(t.statusText," (").concat(t.status,")"));case 7:return e.next=9,t.json();case 9:a=e.sent,n({type:u,payload:a}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}var c,r,s}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r.currentWeather&&j()}),[r.currentWeather]),Object(O.jsx)("section",{children:Object(O.jsx)("div",{id:"forecast-wrapper",className:"forecast-wrap card",children:Object(O.jsx)("div",{id:"forecast-result",className:"forecast-class card-body border-secondary",children:l&&l.daily.map((function(e){return Object(O.jsxs)("div",{className:"forecast-card card-body rounded-lg border-dark bg-info text-light",children:[Object(O.jsx)("div",{className:"secondary-text card-title",children:Object(O.jsx)("h5",{className:"font-weight-bold",children:N(e.dt)})}),Object(O.jsx)("div",{children:Object(O.jsxs)("figure",{children:[Object(O.jsx)("img",{className:"forecast-icon",src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:g(e.weather[0].description)}),Object(O.jsx)("figcaption",{className:"secondary-text",children:g(e.weather[0].description)})]})}),Object(O.jsxs)("div",{className:"card-text secondary-text",children:[Object(O.jsxs)("h6",{children:["Low:"," ",Object(O.jsx)("span",{children:"".concat(Math.round(e.temp.min),"\xb0F")})]}),Object(O.jsxs)("h6",{children:["High:"," ",Object(O.jsx)("span",{children:"".concat(Math.round(e.temp.max),"\xb0F")})]})]}),Object(O.jsx)("div",{className:"card-text secondary-text",children:Object(O.jsxs)("h6",{children:["Humidity:"," ",Object(O.jsx)("span",{children:"".concat(Math.round(e.humidity),"%")})]})})]},e.dt)})).filter((function(e,t){return t>=1&&t<=5}))})})})},P=function(){return Object(O.jsx)("main",{className:"main-content container",children:Object(O.jsxs)("div",{className:"content-wrapper row",children:[Object(O.jsx)(F,{}),Object(O.jsxs)("section",{id:"result-wrapper",className:"results col-lg-9 card",children:[Object(O.jsx)(D,{}),Object(O.jsx)(J,{})]})]})})},H=function(){return Object(O.jsx)("header",{className:"header bg-info",children:Object(O.jsx)("h1",{className:"heading display-4 text-light",children:"Weather Dashboard"})})};var U=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(M,{children:[Object(O.jsx)(H,{}),Object(O.jsx)(P,{})]})})},G=a(12),V=a.n(G);a(21).config(),V.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.640f516f.chunk.js.map